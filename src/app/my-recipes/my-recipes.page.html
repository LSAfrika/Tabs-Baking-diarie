<ion-header>
  <ion-toolbar color="primary" >
    <ion-title >My Recipes</ion-title>
    <ion-buttons slot="end">
      <ion-button  (click)="dismissModal()">
        <ion-icon size="large" name="close-circle" ></ion-icon>
      </ion-button>
    </ion-buttons>
    
  </ion-toolbar>
</ion-header>

<ion-content>
  value:{{recipeGroup.value |json}}
  <ion-card [formGroup]="recipeGroup">
    <ion-grid>
      <ion-row>
        <ion-col size="12">
          <ion-item lines="none">
           <ion-label color="primary" style="width: 100%">
             Recepie title
           </ion-label>
         

          </ion-item>
          
                
            

        </ion-col>
        
        
        <ion-col size="12">
            <ion-item lines="inset">
                <ion-input placeholder="recipe title"  formControlName="title"> </ion-input>
            </ion-item>
            <ion-item *ngIf="RecipeTitle.invalid && RecipeTitle.touched" lines="none">
              
              <div class="error"  >please give a title to your recipe </div>
            </ion-item>

        </ion-col>
        <ion-col size="12">
            <ion-item lines="none"  >
                
                <ion-label color="primary"> ingredients </ion-label>
              </ion-item>
            </ion-col>


            <div formArrayName="ingredients" style="width: 100%">
            <ion-col size="12" ion-no-padding>
              <ion-item lines="inset"  *ngFor="let ingredient of IngredientsArray.controls; let i =index" [formGroupName]="i">
              
                  <ion-input placeholder=""  formControlName="ingredient"> {{i+1 }}. </ion-input>
                  <ion-icon button (click)="deleteIngredientsSchema(i)" slot="end" name="trash" color="primary"></ion-icon>
                  <br/>
                  
              
                </ion-item>
                <ion-col size="12" ion-no-padding>
                  <div class="error" *ngIf="IngredientsArray.invalid && IngredientsArray.touched" >please fill in the field </div>
  
                </ion-col>
                
              </ion-col>
             
            </div>

              <ion-button  [disabled]="IngredientsArray.invalid"
              color="primary"
               shape="round"
                (click)="AddIngredientsSchema()">
                <ion-icon slot="start" name="add" >

                </ion-icon>
                <ion-label style=" text-transform: lowercase;
                font-weight: 500;
                ">add</ion-label>
              </ion-button>

       

        <ion-col size="12">
            <ion-item lines="none"  >
                
                <ion-label color="primary"> procedure </ion-label>
              </ion-item>
            </ion-col>
            <div formArrayName="procedure" style="width: 100%">
            <ion-col size="12" ion-no-padding >
              
              <ion-item lines="inset" *ngFor="let procedure of ProcedureArray.controls; let i =index" [formGroupName]="i" >
                    <ion-textarea placeholder="step. {{i+1}}"  formControlName="procedure">  </ion-textarea>
                     <ion-icon button (click)="deleteProcedureSchema(i)" slot="end" name="trash" color="primary"></ion-icon>
                  
                  </ion-item>
                  <ion-col size="12" ion-no-padding>
                    <div class="error" *ngIf="ProcedureArray.invalid && ProcedureArray.touched" >please fill in the field </div>
    
                  </ion-col>
                </ion-col>
                </div>



                <ion-col size="12">
              <ion-button  [disabled]="ProcedureArray.invalid" color="primary" shape="round" (click)="AddProcedureSchema()">
                  <ion-icon slot="start" name="add" >
  
                  </ion-icon>
                  <ion-label style=" text-transform: lowercase;font-weight: 500;">add</ion-label>
                </ion-button>
              </ion-col>

    <br class="padding"/>
    <br class="padding"/>
    <br class="padding"/>

    <!-- IMAGE VIEW -->
<div class="CakeSize"  >
 <div *ngIf="ImageUrl.value === null || ImageUrl.value.trim().length===0">
    <img 
   class="actualimage"
    src= '/assets/icon/defaultCake.png' > 
 please select an image

 </div>
 <div *ngIf="ImageUrl.value !== null">
   <img class="actualimage" src="{{ImageUrl.value}}" >
   
 

 </div>
 
</div> 
<ion-col size="10" offset="1">
    <ion-button expand="block"
     shape="round"
      color="primary"
       (click)="launchActionSheet()"
       >
      <!-- (click)="presentActionSheet()" -->

       <ion-icon slot="start"  name="images"></ion-icon>
       <ion-label  style=" text-transform: lowercase;
       font-weight: 500;">
       Select image
      </ion-label>
      
      </ion-button>
  </ion-col>

    <br class="padding"/>
    <br class="padding"/>
    <br class="padding"/>
   <!-- enabled button -->
              <ion-col size="10" offset="1">
                <ion-button expand="block"
                 shape="round"
                  color="primary"
                   style=" text-transform: lowercase;font-weight: 500;"
                   (click)="SavePersonalRecipe(recipeGroup.value)"
                   [disabled]="recipeGroup.invalid || IngredientsArray.length===0 || ProcedureArray.length===0">
                   save
                  </ion-button>
              </ion-col>

            <!-- disable button -->
            <!-- <div class="notify" *ngIf="ProcedureArray.length ===0 || IngredientsArray.length ===0 " style="width: 100%" >
              <ion-col size="10" offset="1">
                <ion-button expand="block"
                 shape="round"
                  color="primary"
                   style=" text-transform: lowercase;font-weight: 500;"
                   (click)="SavePersonalRecipe(recipeGroup.value)"
                   [disabled]="true">
                   save
                  </ion-button>
              </ion-col>
            </div> -->
      </ion-row>

    </ion-grid>
     

  </ion-card>

  
  

</ion-content>
